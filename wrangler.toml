name = "attendance-portal"
account_id = "<YOUR_ACCOUNT_ID>"
compatibility_date = "2025-05-30"
env = "production"

# Static site on Pages
[site]
  bucket = "frontend/public"
  entry-point = "worker"

# Optional build step (e.g., bundling with esbuild)
[build]
  command = "npm run build"

# D1 binding
[d1_databases]
bindings = [
  { name = "DB", database_name = "ATTENDANCE_DB" }
]

# Environment variables for admin creds and JWT secrets
[vars]
ADMIN_USER = "sodekunle"
ADMIN_PASS = "Op3ns3sam3@1234"
ADMIN_JWT_SECRET = "<your_admin_jwt_secret>"
ATTENDEE_JWT_SECRET = "<your_attendee_jwt_secret>"

# Local dev setup
[dev]
  site = { bucket = "frontend/public", entry-point = "worker" }
